离散数学 1 - 映射
笔记 | 数学 | 计算机 | 离散数学
离散数学（Discrete mathematics）是数学的几个分支的总称，研究基于离散空间而不是连续的数学结构。与连续变化的实数不同，离散数学的研究对象——例如整数、图和数学逻辑中的命题——不是连续变化的，而是拥有不等、分立的值。因此离散数学不包含微积分和分析等“连续数学”的内容。离散对象经常可以用整数来枚举。
2018-10-8


[下一篇：离散数学 2 - 关系](blog.php?id=12)


集合基础：略

## 映射

$f：为一个法则，$$x \to y$，对于一个确定的 $x$，只有唯一的一个 $y$ 与之对应

$y$ 为 $x$ 的象，$x$ 为原象，记为：$f : x \to y$

值域记为 $Im(f)$

- 限制和扩散：$A \subsetneq Y$，得到：
  - $\phi : A \to Y，\forall x \in A, \phi(x) = f(x)，\phi$ $称为在 f 在 A 上的限制$，$常用 f_{|A} 来代替 \phi$，$f 是 \phi 在 X 上的扩散$
- 部分映射：$f: A \to Y$
- 相等映射：$\forall x \in X, \; f = g \iff f(x) = g(x)$
- 单射：$\forall x_1, x_2 \in X，只要 x_1 \neq x_2， 就有 f_(x_{1}) \neq f_(x_{2})$
- 满射：$\forall y \in Y, \exists x \in  X, 使得 y = f(x)$
- 双射：既是单射又是满射
- 恒等映射：$f: X \to X，对 \forall x \in X, f(x) = x, f 为 x 上的恒等映射，记 I_x$

##### 例1：

$S: N \ to N$, $\forall n \in N$, $s(n) = n + 1$, $s$ 称为 $N$ 上的后继函数，是单射，不是满射

##### 例2：

正偶数集 $E$, $e: E \to N$, $e(2m) = m$, $e$ 为双射，但 $e: N \to N $ 是部分映射

##### 例3：

设 $X$ 为整数的一个有限集合，定义集合 $X - X = \{x_1 - x _2 | x_1, x_2 \in X\}$。试证明：若 $A, B \subset  \{1, 2, \ldots, n \}$ 并且 $|A| \cdot |B| \ge 2n - 1, n > 1$，则 $(A - A) \cap (B - B)$ 中有一个正整数

证明概要：

- 做一个映射
  - $f: A \times B \to \{2, 3, \ldots, 2n\}$，对 $\forall (a, b) \in A \times B$，令 $f(a, b) = a + b$
- 对 $f$ 是满射证明结论成立
- 对 $f$ 是单射证明结论成立

### 抽屉原理

$f: X \to Y$, $|X| = |Y| + 1$, $\exists y \in Y$, $y$ 的原象集至少有 $2$ 个元素

##### 例1：

从 $1, \ldots, 2n$ 中取 $n + 1$ 个数，这 $n + 1$ 个数中必有两个数，使得其中一个能整除另一个

证明：

将 $2n$ 个数表示成 $2^{l} \cdot d_{i}$ 的形式，而 $2n$ 个数只有 $n + 1$ 个奇数，所以取 $n + 1$ 个数必有一个奇数 $d_{i}$ 被提及到两次（即，一定有两个数 $a_{i}, a_{j}$，使得 $d_{i} = d_{j}$），那么其中一个能整除另一个。

##### 例 2：

任何 $6$ 个人中，或有三个人相互认识，或有三个人互相不认识。

证明：

确定一个人 $a$，根据与 $a$ 是否相互认识分成两组，由抽屉原理知一定有一组至少有三个人；

若与 $a$ 认识的有三个（$b$，$c$，$d$），那这三个人不管如何相互认识或不认识，都满足题意（如果 $bcd$ 互相不认识，那么满足有三人互相不认识，只要其中两人相互认识（比如 $bc$ 互相认识），那么 $abc$ 三人相互认识）；

若与 $a$ 不认识的有三人， 同理满足题意

##### 变形 1：

将 $n$ 个物体放入 $n$ 个盒子，且没有一个空盒子，那么每个盒子恰有一个物体

##### 变形 2：

将 $n$ 个物体放入 $n$ 个盒子，没有一个盒子多于一个物体，那么每个盒子恰有一个物体

##### 例（费马小定理证明）：

证明：$(a, p) = 1$，则 $a^{p-1} \equiv 1 \pmod{p}$

引理：<br>若 $(c, m) = 1$，当 $a \cdot c \equiv b \cdot c \pmod{m}$，则有 $a \equiv b \pmod{m}$

证明：<br>$a \cdot c \equiv b \cdot c \pmod{m}$，则有 $(a - b) \cdot c \equiv 0 \pmod{m}$，因为 $(c, m) = 1$，所以 $a - b \equiv 0 \pmod{m}$，$a \equiv b \pmod{m}$

构造：

$$
1 \cdot a \equiv b_{1} \pmod{p}\\
2 \cdot a \equiv b_{2} \pmod{p}\\
3 \cdot a \equiv b_{3} \pmod{p}\\
\vdots \\
(p - 1) \cdot a \equiv b_{p - 1} \pmod{p}
$$

假设 $\exists i, j(i \neq j)$，使得 $b_{i} = b_{j}$，由 `引理`  知，因为 $b_{i} \equiv b_{j} \pmod{p}$ ，$i \cdot a \equiv j \cdot a \pmod p$，所以 $i = j$，假设矛盾，所以不存在 $b_{i} = b_{j}$；<br>由抽屉原理， p - 1 个 数，放进 p - 1 个 b 中，没有一个数被放了两次， 则 b 数组为 $\{1, 2, \ldots, p - 1\}$ 的重新排列

等式左边之积 = 等式右边之积<br>$(p - 1)! \cdot a^{p - 1} \equiv (p - 1) \pmod p$<br>所以：$a^{p - 1} \equiv 1 \pmod p$

##### 加强：

设 $q_{1}, q_{2} \ldots q_{n}$ 为 $n$ 个正整数，如果 $q_{1} + q_{2} + \ldots + q_{n}$ 个物体放到 $n$ 个盒子中，则或者第 $i$ 个盒子中至少有 $q_{i}$ 个物体

##### 推论 1：

如果把 $n(r - 1) + 1$ 个物体放到 $n$  个盒子中，则必有一个盒子至少有 $r$ 个物体

##### 推论 2：

如果 $n$ 个正整数平均数 $>  r - 1$，则至少有一个正整数不小于 $r$

##### 推论 3：

把 $m$  个物体放到 $n$  个盒子中，则必有一个盒子至少含有 $\lfloor \frac{m - 1}{n} \rfloor + 1$ 个物体

##### 例： 

$n^{2} + 1$ 个士兵排成一排，可以使 $n + 1$ 个士兵往前走一步，形成一个身高递增或递减（非严格）的序列。

证明：

用 $a_{i}$ 表示第 $i$ 个士兵的身高
假设不存在 $n + 1$ 长度不减的序列；
用 $m_{i}$ 表示以 $a_{i}$; 为首项的不减序列的长度，则 $1 \le m_{i} \le n$
现有 $n$ 个盒子，$m_{i}$ 放入第 $k$ 个盒子，当且仅当 $m_{i}= k$
由抽屉原理推论 $3$ 知，必有一个盒子里至少有 $n + 1$ 个数
我们称盒子中的数为：$m_{j_{1}}, m_{j_{2}}, \ldots, m_{j_{p}}$，其中 $1 \le j_{1} \le j_{2} \le \ldots \le j_{p} \le n^{2} + 1，\;p > n$
进而得到一串序列：$a_{j_{1}}, a_{j_{2}}, \ldots, a_{j_{p}}$，而这一定是一个不增序
如果 $a_{j_{s}} < a_{j_{t}}$，且 $j_{s} < j_{t}$，那么以 $a_{j_{s}}$为首的不减序列就能增加一个 $a_{j_{t}}$，长度变为 k + 1，与前面所述矛盾
所以假设不存在 $n + 1$ 长度不减序列，能得到至少 $n + 1$ 长度的不增序列，满足题意。

##### 象定义：

$f(A) = \{f(x) | x \in A\}$，$f(x)$ 称为 $A$ 在 $f$ 下的象

##### 逆的定义：

$f^{-1}(B) = \{x | f(x) \in B, x \in X\}$

##### 逆的分配率：

$$
\begin{align}
&f^{-1}(C \cup D) = f^{-1}(C) \cup f^{-1}(D)\\
&f^{-1}(C \cap D) = f^{-1}(C) \cap f^{-1}(D)\\
&f^{-1}(C \triangle D) = f^{-1}(C) \triangle f^{-1}(D)\\
&f^{-1}(c^{c}) = (f^{-1}(c))^{c}
\end{align}
$$

##### 定理 2：

$$
\begin{align}
&f(A \cup B) = f(A) \cup f(B)\\
&f(A \cap B) \subseteq f(A) \cap f(B)\\
&f(A\, \triangle\, B) \supseteq f(A)\, \triangle \,f(B)\\
\end{align}
$$


### 映射的合成

$h = g \circ f$，简记：$h = gf$

**<u>映射的合成满足结合律</u>**

##### 定理 2：

$f: X \to Y$，则：$f = f \circ I_{x} = I_{y} \circ f$

##### 定理 3：

若 $f$ 和 $g$ 都是满射 / 单射 / 双射，则 $g \circ f$ 也是满射 / 单射/ 双射

##### 定理 4：

- $g \circ f$ 是满射，则 $g$ 是满射
- $g \circ f$ 是单射，则 $f$ 是单射
- $g \circ f$ 是双射，则 $g$ 是满射，则 $f$ 是单射

##### 例 1：

$f: N \to N$，如果 $\forall n \in N$：
$$
如果： f(n + 1) > f(f(n))
$$
试证明：$f(n) = n$

证明概要：

1. 如果 $n > k$，则 $f(n) > k$；<br>2. 取 $k = n - 1$ 即知 $f(n) \le n$；<br>3. $f(n + 1) > f(n)$<br>4. 由上可知 $f$ 是严格单调上升<br>5. $f(n) = n$

证明：

1.

(1) 当 $k = 1$ 时，$n > 1$，$n \ge 1$，$n - 1 \in N$
$$
f(n) > f(f(n - 1)) \ge 1 \\
\therefore n > 1，f(n) > 1
$$

(2) 假设 $n > k$，则 $f(n) > k$

$$
设 \; n > k + 1，有 n - 1 > k \\
由归纳假设 \; f(n - 1) > k\\
有 \; f(f(n - 1)) > k \\
n - 1 \; 代入原式，f(n) > f(f(n - 1))，从而 f(n) > k + 1
$$

2. $n > n - 1\\f(n) > n - 1 \Rightarrow f(n) \ge n$

3. $由 \; f(n) \ge n\;知，f(f(n)) \ge f(n) \\ 
   由 \; f(n +1) > f(f(n))，知 \; f(n +1) > f(n)$

4. $对 \; \forall m, k \in N，若 \; m < k \iff f(m) < f(k)$

5. $由 \; f(n + 1) > f(f(n))，且 \; f(n) \; 为严格递增函数，知\; n + 1 > f(n)\\
   从而 f(n) \le n，由于 \; f(n) \ge n，有 f(n) = n$



### 逆映射

##### 逆映射：

 $g \circ f = I_{x} \; 且 \; f \circ g = I_{y}$，则称 $f$ 是可逆的， $g$ 称为 $f$ 的逆映射

##### 左右可逆：

$g \circ f = I_x$，则称 $f$ 是左可逆的，且 $g$ 称为 $f$ 的左逆映射； $f \circ h = I_y$，则称 $f$ 是右可逆的。

##### 可逆的充分必要条件：

$f : X \to Y$，$f$ 可逆 $\iff$ $f$ 是双射

证明：

$\Rightarrow$左可逆证明满射，右可逆证明单射

$\Leftarrow$ 构造映射，则可证明

##### 逆映射唯一定理：

$f: X \to Y$，如果 $f$ 可逆，则其逆映射唯一

证明；

由 $f \circ g_1 = f \circ g_2 = I_y$，对 $\forall y \in Y$，$f \circ g_1(y) = f \circ g_2(y)$，由 $f$ 是单射知，$g_1(y) = g_2(y)$

##### 逆映射合成的逆：

$(g \circ f)^{-1} = g^{-1} \circ y^{-1}$

证明：

$(g \circ f)^{-1} \circ (g \circ f) = I_x$，$(f^{-1} \circ g^{-1} \circ (g \circ f) = I_x)$

由逆映射唯一得

##### 穿脱原则：

先穿袜子再拖鞋，先脱鞋再拖袜子

##### 映射等于自己逆的逆：

$f: X \to Y$，$f$ 可逆，$(f^{-1})^{-1} = f$

证明：逆映射唯一可证

##### 左右可逆的充分必要条件：

- $f$ 左可逆 $\iff f$ 是单射
- $f$ 右可逆 $\iff f$ 是满射
- 证明：$\Rightarrow$ 映射合成定理，$\Leftarrow$ 构造 $g: Im(f) \to X$ 在 $Y$ 上的扩展